#!/bin/bash
CMDLINE=$@
FILECOUNT=`echo $CMDLINE|grep -o -- " -q"|wc -l`
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

if [ $FILECOUNT -eq 2 ]
then
	echo Launching in Paired mode
	$DIR/penguin $CMDLINE
else
	while [[ $# > 1 ]]
	do
		Key="$1"
	shift

	if [ "$Key" == "-q" ]
	then
	    Filename="$1"
	fi
	done

	Sequence=`head $Filename -n2|tail -n1`
	Seq_Length=${#Sequence}
	if [ $Seq_Length -ge 149 ]
	then
		echo Launching in Long mode
		$DIR/penguin-l $CMDLINE
	else
		echo Launching in Short mode
		$DIR/penguin-s $CMDLINE
	fi
fi
